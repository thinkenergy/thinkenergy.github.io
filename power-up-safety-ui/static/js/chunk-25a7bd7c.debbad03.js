/*!
 *  build: vue-admin-beautiful 
 *  copyright: chuzhixin 1204505056@qq.com 
 *  time: 2021-8-30 16:21:51
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25a7bd7c"],{"3f61":function(e,t,a){},"55bf":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"real-time_container",staticStyle:{padding:"20px"}},[a("div",{staticClass:"title"},[e._v(" 场站充电枪信息 "),a("i",{staticClass:"el-icon-arrow-right"}),e._v(" "+e._s(e.stationName)+" ")]),a("el-table",{ref:"table",attrs:{data:e.listData,"highlight-current-row":"","show-overflow-tooltip":""}},[a("el-table-column",{attrs:{prop:"equipmentName",label:"充电枪序号",align:"center","header-align":"center",width:"120"}}),a("el-table-column",{attrs:{prop:"manufacturer",align:"center","header-align":"center",label:"厂家",width:"200"}}),a("el-table-column",{attrs:{prop:"power",align:"center","header-align":"center",label:"功率(kw)",width:"100"}}),a("el-table-column",{attrs:{prop:"state",align:"center","header-align":"center",label:"充电枪状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",{style:e.$system.getChargingColorStyle(n.status)},[e._v(" "+e._s(n.statusName)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"startTime",label:"充电开始时间",width:"180",align:"center","header-align":"center"}}),e._l(e.columns,(function(t,n){return a("el-table-column",{key:n,attrs:{prop:t.prop,label:t.label,width:t.width||130,align:"center","header-align":"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(n){var s=n.row;return[e.$system.isCharging(s.status)&&!e.$system.isValidValue(s[t.value])?a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.showModel(s)}}},[e._v(" 点击补充信息 ")]):a("span",[e._v(e._s(s[t.prop]))])]}}],null,!0)})})),a("el-table-column",{attrs:{align:"center","header-align":"center",label:"当前SOC",prop:"bcsSoc"}}),a("el-table-column",{attrs:{label:"是否有报警",width:"150",align:"center","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e.$system.isCharging(n.status)&&e.$system.isValidValue(n.alarmFlag)?a("span",{style:e.$system.getAlarmFlagStyle(n.alarmFlag)},[e._v(" "+e._s(e.$getDictNameByValue("no_yes",n.alarmFlag))+" ")]):a("span",[e._v("-")])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","header-align":"center",width:"120",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{attrs:{disabled:!e.$system.isCharging(n.status),type:"text"},on:{click:function(t){return e.toMonitor(n)}}},[e._v(" "+e._s(e.$system.isCharging(n.status)?"详情":"-")+" ")])]}}])})],2),a("car-info-edit",{ref:"carInfoEdit",on:{updated:e.refreshDevList}})],1)},s=[],r=a("af90"),i=a("2fae"),l={components:{CarInfoEdit:r["default"]},props:{dataAll:{type:Array,default:function(){return[]}}},data:function(){return{tableClickIndex:0,batType:"",stationName:"",scopeData:{},isShow:!1,listData:[],intervalId:"",columns:[{label:"车牌号",prop:"carPlate",value:"carPlate"},{label:"品牌",prop:"brandName",value:"brandCode"},{label:"车系",prop:"seriesName",value:"seriesCode"},{label:"车型",prop:"modelName",value:"modelCode"},{label:"VIN",prop:"vin",value:"vin",width:180}]}},mounted:function(){var e=this;this.fetchData(),this.$baseEventBus.$on("equipmentsListChange",(function(){e.fetchData()})),this.intervalId=window.setInterval((function(){e.fetchData()}),i["intervalTime"])},beforeDestroy:function(){window.sessionStorage.removeItem("stationName"),window.sessionStorage.removeItem("devList"),window.clearInterval(this.intervalId),this.$baseEventBus.$off("equipmentsListChange")},methods:{toMonitor:function(e){if(!this.$system.isValidValue(e.orderNo))return this.$message({message:"充电数据传输延时，请稍后查看。",type:"warning"}),!1;window.sessionStorage.setItem("monitorInfo",JSON.stringify(e)),this.$router.push({path:"monitor",query:{orderNo:e.orderNo,equipmentId:e.equipmentId}})},fetchData:function(){this.listData=JSON.parse(window.sessionStorage.getItem("equipmentsList")),this.stationName=window.sessionStorage.getItem("stationName")},showModel:function(e){this.$refs["carInfoEdit"].show(e)},refreshDevList:function(){this.$baseEventBus.$emit("refreshEquipmentsList")}}},o=l,u=(a("dfd9"),a("cba8")),c=Object(u["a"])(o,n,s,!1,null,"709b3a6a",null);t["default"]=c.exports},dfd9:function(e,t,a){"use strict";a("3f61")}}]);