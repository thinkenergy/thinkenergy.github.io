/*!
 *  build: vue-admin-beautiful 
 *  copyright: chuzhixin 1204505056@qq.com 
 *  time: 2021-8-30 16:21:51
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-445822e7"],{"1fae":function(e,t,r){"use strict";r.r(t),r.d(t,"doUpdate",(function(){return n})),r.d(t,"getCarInfo",(function(){return i})),r.d(t,"findBrandList",(function(){return o})),r.d(t,"findCarSeriesByBrandCode",(function(){return s})),r.d(t,"findCarTypeBySeriesCode",(function(){return u}));var a=r("b775");function n(e){return Object(a["default"])({url:"/api/v1/apps/monitor/additionalCarInfo",method:"post",data:e})}function i(e){return Object(a["default"])({url:"/api/v1/apps/monitor/getCarInfo",method:"get",params:e})}function o(e){return Object(a["default"])({url:"/api/v1/base/carbrand/findBrandList",method:"get",params:e})}function s(e){return Object(a["default"])({url:"/api/v1/base/carseries/findCarSeriesByBrandCode",method:"get",params:e})}function u(e){return Object(a["default"])({url:"/api/v1/base/carmodel/findCarTypeBySeriesCode",method:"get",params:e})}},"3d30":function(e,t,r){"use strict";r.r(t),r.d(t,"isNotNull",(function(){return n})),r.d(t,"isGeneral",(function(){return i})),r.d(t,"algVersionCheck",(function(){return o})),r.d(t,"isNumWithStr",(function(){return s})),r.d(t,"isNumber",(function(){return u})),r.d(t,"isNum",(function(){return d})),r.d(t,"isDecimal",(function(){return l})),r.d(t,"isLetter",(function(){return c})),r.d(t,"isUpperCase",(function(){return f})),r.d(t,"isLowerCase",(function(){return m})),r.d(t,"isIpv4",(function(){return p})),r.d(t,"isMoney",(function(){return b})),r.d(t,"isEmail",(function(){return g})),r.d(t,"isMobile",(function(){return h})),r.d(t,"isCitizenid",(function(){return v})),r.d(t,"isZipcode",(function(){return C})),r.d(t,"isUrl",(function(){return D})),r.d(t,"isChinese",(function(){return w})),r.d(t,"isGeneralWithChinese",(function(){return $})),r.d(t,"isMac",(function(){return y})),r.d(t,"isPlateNumber",(function(){return A})),r.d(t,"getMsg",(function(){return N})),r.d(t,"isVehicleNumber",(function(){return k}));var a={isNotNull:"不能为空",isGeneral:"只能为字母、数字或下划线",isGeneralWithChinese:"只能为汉字、字母、数字和下划线",isNumber:"只能为纯数字",isNum:"数字格式不正确",isDecimal:"小数浮点格式不正确",isLetter:"只能纯字母",isUpperCase:"只能为大写字母",isLowerCase:"只能为小写字母",isIpv4:"IP地址不正确",isMoney:"金额格式不正确",isEmail:"邮箱格式不正确",isMobile:"手机号格式不正确",isCitizenid:"身份证格式不正确",isMac:"MAC地址不正确",isPlateNumber:"中国车牌号不正确",isNumWithStr:"只能为字母、数字",algVersionCheck:"请输入正确的版本号",isUrl:"URL地址不正确",isVehicleNumber:"车牌号格式不正确"};function n(e){return!(void 0===e||null==e||""===e||""===e||"undefined"===e||"null"===e||"NULL"===e)}function i(e){e+="";var t=/^\w+$/;return t.test(e)}function o(e){e+="";var t=/\d+(.\d+)*/;return t.test(e)}function s(e){e+="";var t=/^[A-Za-z0-9]+$/;return t.test(e)}function u(e){e+="";var t=/^[0-9]*$/;return t.test(e)}function d(e){var t=/^\d+(\.\d{1,2})?$/;return t.test(e)}function l(e){e+="";var t=/^(\d+(?:\.\d+)?)$/;return t.test(e)}function c(e){e+="";var t=/^[a-zA-Z]+$/;return t.test(e)}function f(e){e+="";var t=/^[A-Z]+$/;return t.test(e)}function m(e){e+="";var t=/^[a-z]+$/;return t.test(e)}function p(e){e+="";var t=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;return t.test(e)}function b(e){e+="";var t=/^(\d+(?:\.\d+)?)$/;return t.test(e)}function g(e){e+="";var t=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;return t.test(e)}function h(e){e+="";var t=/^1\d{10}$/;return t.test(e)}function v(e){e+="";var t=/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/;return t.test(e)}function C(e){e+="";var t=/^[1-9]\d{5}(?!\d)$/;return t.test(e)}function D(e){e+="";var t=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/;return t.test(e)}function w(e){e+="";var t=/^[\u4E00-\u9FA5]+$/;return t.test(e)}function $(e){e+="";var t=/^[\u4E00-\u9FA5a-zA-Z0-9_]+$/;return t.test(e)}function y(e){e+="";var t=/[A-F\d]{2}:[A-F\d]{2}:[A-F\d]{2}:[A-F\d]{2}:[A-F\d]{2}:[A-F\d]{2}/;return t.test(e)}function A(e){e+="";var t=/^(([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-Z](([0-9]{5}[ABCDEFGHJK])|([ABCDEFGHJK]([A-HJ-NP-Z0-9])[0-9]{4})))|([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领]\d{3}\d{1,3}[领])|([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-Z][A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳使领]))$/;return t.test(e)}function N(e){return a[e]}function k(e){var t=e+"",r=/^(([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-Z](([0-9]{5}[ABCDEFGHJK])|([ABCDEFGHJK]([A-HJ-NP-Z0-9])[0-9]{4})))|([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领]\\d{3}\\d{1,3}[领])|([京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-Z][A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳使领]))$/;return r.test(t)}},af90:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"补充车辆信息",visible:e.dialogShow,"close-on-click-modal":!1,width:"50%"},on:{"update:visible":function(t){e.dialogShow=t}}},[r("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"120px",rules:e.rules,"label-suffix":":"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"车牌号",prop:"carPlate"}},[r("el-input",{attrs:{placeholder:"请输入",disabled:e.$system.isValidValue(e.scopedData.carPlate)},model:{value:e.formData.carPlate,callback:function(t){e.$set(e.formData,"carPlate",t)},expression:"formData.carPlate"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"品牌",prop:"brandCode"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:e.$system.isValidValue(e.scopedData.brandCode),filterable:"",clearable:""},on:{change:e.brandChange},model:{value:e.formData.brandCode,callback:function(t){e.$set(e.formData,"brandCode",t)},expression:"formData.brandCode"}},e._l(e.carBrands,(function(e){return r("el-option",{key:e.id,attrs:{label:e.brandName,value:e.brandCode}})})),1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"车系",prop:"seriesCode"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:e.$system.isValidValue(e.scopedData.seriesCode),filterable:"",clearable:""},on:{change:e.seriesChange},model:{value:e.formData.seriesCode,callback:function(t){e.$set(e.formData,"seriesCode",t)},expression:"formData.seriesCode"}},e._l(e.modelList,(function(t,a){return r("el-option-group",{key:a,attrs:{label:a}},e._l(t,(function(e){return r("el-option",{key:e.id,attrs:{label:e.modelName,value:e.modelCode}})})),1)})),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"车型",prop:"modelCode"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",disabled:e.$system.isValidValue(e.scopedData.modelCode),filterable:"",clearable:""},model:{value:e.formData.modelCode,callback:function(t){e.$set(e.formData,"modelCode",t)},expression:"formData.modelCode"}},e._l(e.modelList,(function(t,a){return r("el-option-group",{key:a,attrs:{label:a}},e._l(t,(function(e){return r("el-option",{key:e.id,attrs:{label:e.modelName,value:e.modelCode}})})),1)})),1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"车辆VIN",prop:"vin"}},[r("el-input",{attrs:{disabled:e.$system.isValidValue(e.scopedData.vin),placeholder:"请输入","on-key-up":"value=value.replace(/[\\W]/g,'')"},model:{value:e.formData.vin,callback:function(t){e.$set(e.formData,"vin",t)},expression:"formData.vin"}})],1)],1)],1)],1),r("span",{attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确定")])],1)],1)},n=[],i=r("dc45"),o=(r("e186"),r("ed08")),s=r("3d30"),u=r("1fae"),d={name:"CarInfoEdit",data:function(){var e=function(e,t,r){t?Object(s["isMobile"])(t)?r():r(new Error(Object(s["getMsg"])("isMobile"))):r()},t=function(e,t,r){t?Object(s["isVehicleNumber"])(t)?r():r(new Error(Object(s["getMsg"])("isVehicleNumber"))):r()},r=function(e,t,r){t?Object(s["isNum"])(t)?r():r(new Error(Object(s["getMsg"])("isNum"))):r()};return{dialogShow:!1,formData:{},scopedData:{},batMaterial:[],carBrands:[],carSeries:[],carModels:[],rules:{brandCode:[{required:!0,message:"必填项不可为空",trigger:"blur"}],seriesCode:[{required:!0,message:"必填项不可为空",trigger:"blur"}],modelCode:[{required:!0,message:"必填项不可为空",trigger:"blur"}],carPlate:[{required:!0,message:"必填项不可为空",trigger:"blur"},{validator:t,trigger:"blur"}],vin:[{required:!0,message:"必填项不可为空",trigger:"blur"},{min:17,max:17,message:"VIN必须为17位",trigger:"blur"}],submittedPhone:[{validator:e,trigger:"blur"}],carMileage:[{validator:r,trigger:"blur"}],batRatedCap:[{validator:r,trigger:"blur"}]}}},mounted:function(){this.batMaterial=this.$getDictList("bat_material")},methods:{show:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:for(a in t.scopedData=Object(o["deepClone"])(e),t.formData=Object(o["deepClone"])(e),t.formData)t.$system.isValidValue(t.formData[a])||(t.formData[a]="");t.getCarBrands(),t.$system.isValidValue(t.formData.brandCode)&&(t.getCarSeries(t.formData.brandCode),t.$system.isValidValue(t.formData.seriesCode)&&t.getCarModels(t.formData.brandCode,t.formData.seriesCode)),t.dialogShow=!0;case 6:case"end":return r.stop()}}),r)})))()},brandChange:function(){this.formData.seriesCode="",this.formData.modelCode="",this.carSeries=[],this.carModels=[],this.getCarSeries(this.formData.brandCode)},seriesChange:function(){this.formData.modelCode="",this.carModels=[],this.getCarModels(this.formData.brandCode,this.formData.seriesCode)},getCarBrands:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["findBrandList"])();case 2:r=t.sent,a=r.data,null!==a&&void 0!==a&&a.length&&(e.carBrands=a);case 5:case"end":return t.stop()}}),t)})))()},getCarSeries:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:"",r.next=3,Object(u["findCarSeriesByBrandCode"])({brandCode:a});case 3:n=r.sent,i=n.data,null!==i&&void 0!==i&&i.length&&(t.carSeries=i);case 6:case"end":return r.stop()}}),r)})))()},getCarModels:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:"",n=e.length>1&&void 0!==e[1]?e[1]:"",r.next=4,Object(u["findCarTypeBySeriesCode"])({brandCode:a,seriesCode:n});case 4:i=r.sent,o=i.data,null!==o&&void 0!==o&&o.length&&(t.carModels=o);case 7:case"end":return r.stop()}}),r)})))()},handleSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs["formData"].validate((function(t){t&&e.supplyInfo()}));case 1:case"end":return t.stop()}}),t)})))()},supplyInfo:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["doUpdate"])(e.formData);case 2:r=t.sent,a=r.success,a&&(e.$message({type:"success",message:"操作成功"}),e.$emit("updatedInfo"),e.closeDialog());case 5:case"end":return t.stop()}}),t)})))()},closeDialog:function(){this.carBrands=[],this.carSeries=[],this.carModels=[],this.$refs["formData"].resetFields(),this.dialogShow=!1}}},l=d,c=r("cba8"),f=Object(c["a"])(l,a,n,!1,null,null,null);t["default"]=f.exports}}]);