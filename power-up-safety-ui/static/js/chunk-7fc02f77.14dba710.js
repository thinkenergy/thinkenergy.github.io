/*!
 *  build: vue-admin-beautiful 
 *  copyright: chuzhixin 1204505056@qq.com 
 *  time: 2021-8-30 16:21:51
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fc02f77"],{2846:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"charging-statistical"},[a("div",{staticClass:"charging"},[a("div",{staticClass:"title"},[t._v(" "+t._s(t.localSystemTitle)+"充电行为 "),t.localSystem&&3==t.approveStatus?a("div",{staticClass:"application"},[t._v(" 系统还有 "+t._s(t.muchData)+" 条充电数据，点击申请查看 "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.applyLookData()}}},[t._v(" 申请 ")])],1):0==t.approveStatus?a("div",{staticClass:"application"},[a("el-button",{attrs:{type:"warning"}},[t._v(" 待审批 ")])],1):1==t.approveStatus?a("div",{staticClass:"application"},[a("el-button",{attrs:{type:"danger"}},[t._v(" 拒绝 ")])],1):2==t.approveStatus?a("div",{staticClass:"application"},[a("el-button",{attrs:{type:"success"}},[t._v(" 通过 ")])],1):t._e()]),a("el-row",{staticClass:"back-gauge",attrs:{gutter:4}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail"},[a("span",[t._v(t._s(t.chargingBehavior.totalCount||"-"))]),t._v(" 次 ")]),a("div",{staticClass:"designation-title"},[t._v(" 累次充电次数 ")])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail"},[a("span",[t._v(t._s(t.chargingBehavior.superChargeCount||"-"))]),t._v(" 次 ")]),a("div",{staticClass:"designation-title"},[t._v(" 超充次数 ")])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail"},[a("span",[t._v(t._s(t.chargingBehavior.startSocAvg||"-"))]),t._v(" % ")]),a("div",{staticClass:"designation-title"},[t._v(" 起始SOC平均值 ")])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail"},[a("span",[t._v(t._s(t.chargingBehavior.overDriveCount||"-"))]),t._v(" 次 ")]),a("div",{staticClass:"designation-title"},[t._v(" 过放次数 ")])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail"},[a("span",[t._v(t._s(t.chargingBehavior.fastChargeCount||"-"))]),t._v(" 次 ")]),a("div",{staticClass:"designation-title"},[t._v(" 快充次数 ")])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail"},[a("span",[t._v(t._s(t.chargingBehavior.endSocAvg||"-"))]),t._v(" % ")]),a("div",{staticClass:"designation-title"},[t._v(" 结束SOC平均值 ")])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail"},[a("span",[t._v(t._s(t.chargingBehavior.overChargeCount||"-"))]),t._v(" 次 ")]),a("div",{staticClass:"designation-title"},[t._v(" 过充次数 ")])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail"},[a("span",[t._v(t._s(t.chargingBehavior.slowChargeCount||"-"))]),t._v(" 次 ")]),a("div",{staticClass:"designation-title"},[t._v(" 慢充次数 ")])])])],1),a("el-divider"),a("div",{staticClass:"title"},[t._v(" "+t._s(t.localSystemTitle)+"报警统计 ")]),a("el-row",{staticClass:"back-gauge",attrs:{gutter:4}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail bold"},[a("span",[t._v(t._s(t.warnOrderData[0]||"-"))]),t._v(" 单 ")]),a("div",{staticClass:"designation-title"},[t._v(" 无报警订单 ")])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail bold"},[a("span",[t._v(t._s(t.warnOrderData[1]||"-"))]),t._v(" 单 ")]),a("div",{staticClass:"designation-title"},[t._v(" 一级报警订单 ")])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail bold"},[a("span",[t._v(t._s(t.warnOrderData[2]||"-"))]),t._v(" 单 ")]),a("div",{staticClass:"designation-title"},[t._v(" 二级报警订单 ")])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail bold"},[a("span",[t._v(t._s(t.warnOrderData[3]||"-"))]),t._v(" 单 ")]),a("div",{staticClass:"designation-title"},[t._v(" 三级报警订单 ")])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail bold"},[t._v(" "+t._s(t.barItemCountData[1]||"-")+" ")]),a("div",{staticClass:"designation-title"},[t._v(" 一级报警最多项目 ")])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail bold"},[t._v(" "+t._s(t.barItemCountData[2]||"-")+" ")]),a("div",{staticClass:"designation-title"},[t._v(" 二级报警最多项目 ")])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail bold"},[t._v(" "+t._s(t.barItemCountData[3]||"-")+" ")]),a("div",{staticClass:"designation-title"},[t._v(" 三级报警最多项目 ")])])])],1),a("global-chart",{attrs:{height:250,options:t.chart}}),a("el-divider"),a("div",{staticClass:"title"},[t._v(" "+t._s(t.localSystemTitle)+"防护统计 ")]),a("el-row",{staticClass:"back-gauge",attrs:{gutter:4}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail bold"},[a("span",[t._v(t._s(t.protectionStatistical.successCount||"-"))]),t._v(" 次 ")]),a("div",{staticClass:"designation-title"},[t._v(" 防护成功次数 ")])])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"designation"},[a("div",{staticClass:"designation-detail bold"},[a("span",[t._v(t._s(t.protectionStatistical.failCount||"-"))]),t._v(" 次 ")]),a("div",{staticClass:"designation-title"},[t._v(" 防护失败次数 ")])])])],1)],1)])},r=[],n=a("dc45"),s=(a("e186"),a("884f"),a("efd4"),a("6183")),o=a("ed08"),c=a("2fae"),l={name:"ChargingStatistical",props:{localSystem:{type:Number,default:0}},data:function(){return{muchData:0,localSystemTitle:"",chargingBehavior:{},protectionStatistical:{},approveStatus:3,warnOrderData:[],barItemCountData:[],chart:{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{right:0,top:"center",icon:"circle",orient:"vertical",itemHeight:7,textStyle:{fontSize:11,color:"#666"}},grid:{left:"3%",right:100,bottom:"3%",top:30,containLabel:!0},xAxis:{type:"value",axisTick:!1,axisLabel:{textStyle:{color:"#999"}},axisLine:{show:!0,lineStyle:{color:"#999"}},splitLine:{show:!1},nameTextStyle:{color:"#999"}},yAxis:{type:"category",axisTick:!1,axisLabel:{textStyle:{color:"#999"}},axisLine:{show:!0,lineStyle:{color:"#999"}},splitLine:{show:!1},nameTextStyle:{color:"#999"}},series:[{name:"无预警",type:"bar",stack:"total",barMaxWidth:10,emphasis:{focus:"series"},data:[],itemStyle:{color:c["warnColor"].default}},{name:"一级预警",type:"bar",stack:"total",emphasis:{focus:"series"},data:[],itemStyle:{color:c["warnColor"].one}},{name:"二级预警",type:"bar",stack:"total",emphasis:{focus:"series"},data:[],itemStyle:{color:c["warnColor"].two}},{name:"三级预警",type:"bar",stack:"total",emphasis:{focus:"series"},data:[],itemStyle:{color:c["warnColor"].three}}]}}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.judgeConditions();case 1:case"end":return e.stop()}}),e)})))()},mounted:function(){},methods:{judgeConditions:function(){this.localSystemTitle=this.localSystem?"系统":"本地",this.localSystem?this.getApplyDataStatus():(this.getLocalChargeAction(),this.getLocalWarnStatistics(),this.getLocalProtectStatistics())},getLocalChargeAction:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["getLocalChargeAction"])({vinId:t.$route.query.vinId});case 2:a=e.sent,i=a.data,t.chargingBehavior=i||{};case 5:case"end":return e.stop()}}),e)})))()},getLocalWarnStatistics:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["getLocalWarnStatistics"])({vinId:t.$route.query.vinId});case 2:a=e.sent,i=a.data,t.alarmStatistics(i);case 5:case"end":return e.stop()}}),e)})))()},alarmStatistics:function(t){var e=this,a=t.barItemCountData,i=t.warnOrderData;this.chart.yAxis.data=a.yData,a.seriesData.map((function(t,a){e.chart.series[a].data=t.dataList})),this.warnOrderData=[],this.barItemCountData=[],a.seriesData.map((function(t,r){if(e.warnOrderData.push(i.seriesData[r].value),Object(o["isAllZero"])(t.dataList))e.barItemCountData.push("无");else{var n=Object(o["getMaxIndex"])(t.dataList);e.barItemCountData.push(a.yData[n])}}))},getLocalProtectStatistics:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["getLocalProtectStatistics"])({vinId:t.$route.query.vinId});case 2:a=e.sent,i=a.data,t.protectionStatistical=i;case 5:case"end":return e.stop()}}),e)})))()},getSystemChargeAction:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["getSystemChargeAction"])({vinId:t.$route.query.vinId});case 2:a=e.sent,i=a.data,t.chargingBehavior=i||{};case 5:case"end":return e.stop()}}),e)})))()},getSystemWarnStatistics:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["getSystemWarnStatistics"])({vinId:t.$route.query.vinId});case 2:a=e.sent,i=a.data,t.alarmStatistics(i);case 5:case"end":return e.stop()}}),e)})))()},getSystemProtectStatistics:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["getSystemProtectStatistics"])({vinId:t.$route.query.vinId});case 2:a=e.sent,i=a.data,t.protectionStatistical=i||{};case 5:case"end":return e.stop()}}),e)})))()},getApplyDataStatus:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["getApplyDataStatus"])({vinId:t.$route.query.vinId});case 2:a=e.sent,i=a.code,r=a.data,a.msg,200===i&&r?(2==r.approveStatus?(t.getSystemChargeAction(),t.getSystemProtectStatistics(),t.getSystemWarnStatistics(),t.getOrderCountDiff()):0==r.approveStatus||r.approveStatus,t.approveStatus=r.approveStatus):t.approveStatus=3;case 7:case"end":return e.stop()}}),e)})))()},getOrderCountDiff:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["getOrderCountDiff"])({vinId:t.$route.query.vinId});case 2:a=e.sent,i=a.data,t.muchData=i;case 5:case"end":return e.stop()}}),e)})))()},applyLookData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["applyLookData"])({vinId:t.$route.query.vinId});case 2:a=e.sent,a.data,t.getApplyDataStatus();case 5:case"end":return e.stop()}}),e)})))()}}},u=l,d=(a("3959"),a("cba8")),p=Object(d["a"])(u,i,r,!1,null,"73181a38",null);e["default"]=p.exports},3959:function(t,e,a){"use strict";a("43fc")},"3b10":function(t,e,a){"use strict";a("937b")},"43fc":function(t,e,a){},"580c":function(t,e,a){"use strict";a("b95d")},"5d12":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("global-chart",{attrs:{height:350,options:t.chart}})],1)},r=[],n=a("dc45"),s=(a("e186"),a("43a0"),a("6183")),o={data:function(){return{chart:{title:{text:"",subtext:"",bottom:0,right:20},dataZoom:[{type:"inside"}],tooltip:{trigger:"axis",formatter:function(t){var e,a,i=t[0].data[0];if(3===t.length)0===t[2].dataIndex&&(i+="<br>"+t[0].marker+t[0].seriesName+":"+(null!==(e=t[0].data[1])&&void 0!==e?e:"-")+"<br>"+t[1].marker+t[1].seriesName+":"+(null!==(a=t[1].data[1])&&void 0!==a?a:"-"));else for(var r=0;r<t.length;r++){var n;i+="<br>"+t[r].marker+t[r].seriesName+":"+(null!==(n=t[r].data[1])&&void 0!==n?n:"-")}return i}},grid:{left:50,right:20,bottom:50,top:30},legend:{top:0,right:20,show:!0},xAxis:{type:"category",data:[],name:"",axisTick:!1,axisLabel:{textStyle:{color:"#999"}},axisLine:{show:!0,lineStyle:{color:"#999"}},splitLine:{show:!1},nameTextStyle:{color:"#999"}},yAxis:{legend:[],type:"value",name:"SOH(%)",splitNumber:4,nameGap:15,axisLabel:{textStyle:{color:"#999"}},max:100,min:function(t){return t.min>75?75:t.min},axisTick:{show:!1},splitLine:{lineStyle:{type:"dashed"}},axisLine:{show:!0,lineStyle:{color:"#999"}},nameTextStyle:{color:"#999"}},series:[{symbolSize:8,data:[],name:"单次充电计算SOH",type:"scatter",connectNulls:!0,itemStyle:{color:"#3AA1FF"}},{type:"line",name:"大数据计算SOH",connectNulls:!0,symbol:"none",data:[],width:2,itemStyle:{color:"#18CED8"},smooth:!1},{type:"line",connectNulls:!0,name:"SOH预测曲线",symbol:"none",data:[],width:2,itemStyle:{color:"#FABE37"},lineStyle:{color:"#FABE37",width:1,type:"dashed"},smooth:!1}]}}},created:function(){this.findSohStatistics()},mounted:function(){},methods:{findSohStatistics:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["findSohStatistics"])({vinId:t.$route.query.vinId});case 2:a=e.sent,i=a.data,t.chart.xAxis.data=i.countList,t.chart.series[0].data=i.sohList,t.chart.series[1].data=i.bigDataSohList,t.chart.series[2].data=i.sohForecastList;case 8:case"end":return e.stop()}}),e)})))()}}},c=o,l=a("cba8"),u=Object(l["a"])(c,i,r,!1,null,"09161dac",null);e["default"]=u.exports},"60f4":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"charging-chart"},[a("global-chart",{attrs:{height:270,options:t.chargingChart}}),a("el-row",{staticClass:"charging-statistical",attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("charging-statistical",{attrs:{"local-system":0}})],1),a("el-col",{attrs:{span:12}},[a("charging-statistical",{attrs:{"local-system":1}})],1)],1)],1)])},r=[],n=a("dc45"),s=(a("e186"),a("efd4"),a("2846")),o=a("6183"),c={name:"ChargingBehavior",components:{chargingStatistical:s["default"]},props:{numberTime:{type:String,default:"0"}},data:function(){return{chargingBehavior:{},chargingChart:{title:{text:"",subtext:"充电次数",bottom:0,right:20},dataZoom:[{type:"inside"}],tooltip:{trigger:"axis",formatter:function(t){for(var e=t[0].value[0],a=0;a<t.length;a++)e+='<br/><span style="background: '+t[a].color+';display: inline-block;height: 10px; width: 10px;border-radius: 5px;"></span> '+t[a].seriesName+" : "+t[a].value[1];return e}},legend:{right:10,top:0},grid:{left:50,right:20,bottom:50,top:30},xAxis:{type:"category",name:"",axisTick:!1,axisLabel:{textStyle:{color:"#999"}},axisLine:{show:!0,lineStyle:{color:"#999"}},splitLine:{show:!1},nameTextStyle:{color:"#999"}},yAxis:{type:"value",name:"充电起始SOC(%)",splitNumber:4,nameGap:15,max:100,axisTick:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed"}},axisLine:{show:!0,lineStyle:{color:"#999"}},nameTextStyle:{color:"#999"},axisLabel:{formatter:function(t){return t},textStyle:{color:"#999"}}},series:[{type:"line",name:"开始SOC",data:[],itemStyle:{color:"#3AA1FF"},smooth:!1,connectNulls:!0},{type:"line",connectNulls:!0,name:"结束SOC",data:[],itemStyle:{color:"#18CED8"},smooth:!1}]}}},watch:{numberTime:{handler:function(t,e){t!==e&&this.judge()},deep:!0}},created:function(){this.findChargeRegionStatistics()},mounted:function(){},methods:{judge:function(){var t=this;this.chargingChart.series[0].data=[],this.chargingChart.series[1].data=[],setTimeout((function(){t.numberTimejudge()}))},numberTimejudge:function(){var t=this,e=[],a=[];"0"===this.numberTime?(this.chargingChart.xAxis.type="category",this.chargingBehavior.countList.map((function(i,r){e.push([i,t.chargingBehavior.stratSocList[r]]),a.push([i,t.chargingBehavior.endSocList[r]])}))):(this.chargingChart.xAxis.type="time",this.chargingBehavior.timeList.map((function(i,r){e.push([i,t.chargingBehavior.stratSocList[r]]),a.push([i,t.chargingBehavior.endSocList[r]])}))),this.chargingChart.series[0].data=e,this.chargingChart.series[1].data=a},findChargeRegionStatistics:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["findChargeRegionStatistics"])({vinId:t.$route.query.vinId});case 2:a=e.sent,i=a.data,t.chargingBehavior=i,t.judge();case 6:case"end":return e.stop()}}),e)})))()}}},l=c,u=(a("3b10"),a("cba8")),d=Object(u["a"])(l,i,r,!1,null,"366ddd14",null);e["default"]=d.exports},6183:function(t,e,a){"use strict";a.r(e),a.d(e,"getCarInfoByVinId",(function(){return r})),a.d(e,"getBatInfoByVinId",(function(){return n})),a.d(e,"getBlackStatus",(function(){return s})),a.d(e,"addBlackListCar",(function(){return o})),a.d(e,"addBlackListCarModel",(function(){return c})),a.d(e,"deleteBlackListCar",(function(){return l})),a.d(e,"deleteBlackListCarModel",(function(){return u})),a.d(e,"findChargeRegionStatistics",(function(){return d})),a.d(e,"getLocalChargeAction",(function(){return p})),a.d(e,"getLocalWarnStatistics",(function(){return h})),a.d(e,"getLocalProtectStatistics",(function(){return g})),a.d(e,"getSystemChargeAction",(function(){return v})),a.d(e,"getSystemWarnStatistics",(function(){return f})),a.d(e,"getSystemProtectStatistics",(function(){return m})),a.d(e,"getApplyDataStatus",(function(){return b})),a.d(e,"getOrderCountDiff",(function(){return y})),a.d(e,"applyLookData",(function(){return C})),a.d(e,"findConsistencyStatistics",(function(){return S})),a.d(e,"findShortCircuitStatistics",(function(){return x})),a.d(e,"findSohStatistics",(function(){return _})),a.d(e,"findChargeLogs",(function(){return w}));var i=a("b775");function r(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/getCarInfoByVinId",method:"get",params:t})}function n(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/getBatInfoByVinId",method:"get",params:t})}function s(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/getBlackStatus",method:"get",params:t})}function o(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/addBlackListCar",method:"get",params:t})}function c(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/addBlackListCarModel",method:"get",params:t})}function l(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/deleteBlackListCar",method:"get",params:t})}function u(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/deleteBlackListCarModel",method:"get",params:t})}function d(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/findChargeRegionStatistics",method:"get",params:t})}function p(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/getLocalChargeAction",method:"get",params:t})}function h(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/getLocalWarnStatistics",method:"get",params:t})}function g(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/getLocalProtectStatistics",method:"get",params:t})}function v(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/getSystemChargeAction",method:"get",params:t})}function f(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/getSystemWarnStatistics",method:"get",params:t})}function m(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/getSystemProtectStatistics",method:"get",params:t})}function b(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/getApplyDataStatus",method:"get",params:t})}function y(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/getOrderCountDiff",method:"get",params:t})}function C(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/applyLookData",method:"get",params:t})}function S(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/findConsistencyStatistics",method:"get",params:t})}function x(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/findShortCircuitStatistics",method:"get",params:t})}function _(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/findSohStatistics",method:"get",params:t})}function w(t){return Object(i["default"])({url:"/api/v1/apps/carrecord/findChargeLogs",method:"get",params:t})}},"619b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("global-chart",{attrs:{height:350,options:t.chart}})],1)},r=[],n=a("dc45"),s=(a("e186"),a("6183")),o={data:function(){var t=this;return{chart:{title:{text:"",subtext:"充电次数",bottom:0,right:20},color:["#3AA1FF","#18CED8","#3DC977","#91CC75","#FAC858","#F82D5C"],dataZoom:[{type:"inside"}],tooltip:{trigger:"axis",position:function(e,a,i,r,n){var s=[e[0],"10%"],o=t.chart.series.length/2;return a[0].dataIndex>o&&(s=[e[0]-169,"10%"]),s}},legend:{top:0,right:20},grid:{left:50,right:20,bottom:50,top:30},xAxis:{type:"category",data:[],name:"",axisTick:!1,axisLabel:{textStyle:{color:"#999"}},axisLine:{show:!0,lineStyle:{color:"#999"}},splitLine:{show:!1},nameTextStyle:{color:"#999"}},yAxis:{type:"value",name:"一致性得分",splitNumber:4,nameGap:15,max:100,min:function(t){return t.min>75?75:t.min},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed"}},axisLine:{show:!0,lineStyle:{color:"#999"}},nameTextStyle:{color:"#999"},axisLabel:{formatter:function(t){return t},textStyle:{color:"#999"}}},series:[{type:"line",name:"电压一致性",data:[],smooth:!1,connectNulls:!0},{type:"line",name:"温度一致性",data:[],smooth:!1,connectNulls:!0},{type:"line",name:"内阻一致性",data:[],smooth:!1,connectNulls:!0},{type:"line",name:"容量一致性",data:[],smooth:!1,connectNulls:!0},{type:"line",name:"电量一致性",data:[],smooth:!1,connectNulls:!0},{type:"line",name:"电池组一致性",data:[],smooth:!1,connectNulls:!0}]}}},created:function(){this.findConsistencyStatistics()},mounted:function(){},methods:{findConsistencyStatistics:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["findConsistencyStatistics"])({vinId:t.$route.query.vinId});case 2:a=e.sent,i=a.data,t.chart.xAxis.data=i.countList,t.chart.series[0].data=i.voltDiffList,t.chart.series[1].data=i.tempDiffList,t.chart.series[2].data=i.resDiffList,t.chart.series[3].data=i.capDiffList,t.chart.series[4].data=i.socDiffList,t.chart.series[5].data=i.batGroupDiffList;case 11:case"end":return e.stop()}}),e)})))()}}},c=o,l=a("cba8"),u=Object(l["a"])(c,i,r,!1,null,"a7904428",null);e["default"]=u.exports},"71c7":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"vehicle-information"},[a("div",{staticClass:"vehicle-information-left"},[a("el-card",{attrs:{shadow:"never"}},[a("div",{staticClass:"vehicle-information-title"},[t._v(" 车辆信息 ")]),a("div",{staticClass:"vehicle-information-content"},[a("el-row",[a("el-col",{attrs:{span:6}},[t._v(" VIN： "),a("span",[t._v(t._s(t.vehicleInfo.vin||"-"))])]),a("el-col",{attrs:{span:6}},[t._v(" 品牌： "),a("span",[t._v(t._s(t.vehicleInfo.brandName||"-"))])]),a("el-col",{attrs:{span:6}},[t._v(" 车型（销售版本）： "),a("span",[t._v(t._s(t.vehicleInfo.modelName||"-"))])]),a("el-col",{attrs:{span:6}},[t._v(" 行驶里程（km）： "),a("span",[t._v(t._s(t.vehicleInfo.carMileage||"-"))])]),a("el-col",{attrs:{span:6}},[t._v(" 车牌号： "),a("span",[t._v(t._s(t.vehicleInfo.carPlate||"-"))])]),a("el-col",{attrs:{span:6}},[t._v(" 车系： "),a("span",[t._v(t._s(t.vehicleInfo.seriesName||"-"))])]),a("el-col",{attrs:{span:6}},[t._v(" 年款（款）： "),a("span",[t._v(t._s(t.vehicleInfo.year||"-"))])]),a("el-col",{attrs:{span:6}},[t._v(" 里程表读数(km)： "),a("span",[t._v(t._s(t.vehicleInfo.carMileage||"-"))])])],1)],1),a("div",{staticClass:"vehicle-information-title vehicle-information-title-top"},[t._v(" 电池信息 ")]),a("div",{staticClass:"vehicle-information-content"},[a("el-row",[a("el-col",{attrs:{span:6}},[t._v(" 电池信息： "),a("span",[t._v(" "+t._s(t.$getDictNameByValue("bat_property",t.batteryInfo.batPropertyType)||"-")+" ")])]),a("el-col",{attrs:{span:6}},[t._v(" 电池组生产日期： "),a("span",[t._v(" "+t._s(t.batteryInfo.batCreateTime?t.batteryInfo.batCreateTime.split(" ")[0]:"-")+" ")])]),a("el-col",{attrs:{span:6}},[t._v(" 电池组充电次数： "),a("span",[t._v(t._s(t.batteryInfo.accChargeCount||"-"))])]),a("el-col",{attrs:{span:6}},[t._v(" 电池类型： "),a("span",[t._v(" "+t._s(t.$getDictNameByValue("bat_material",t.batteryInfo.batType)||"-")+" ")])]),a("el-col",{attrs:{span:6}},[t._v(" 系统额定容量(Ah)： "),a("span",[t._v(t._s(t.batteryInfo.ratedCap||"-"))])]),a("el-col",{attrs:{span:6}},[t._v(" 系统额定总电压(V)： "),a("span",[t._v(t._s(t.batteryInfo.ratedVoltage||"-"))])]),a("el-col",{attrs:{span:6}},[t._v(" 单体最高允许充电电压(V)： "),a("span",[t._v(t._s(t.batteryInfo.singleMaxPermitV||"-"))])]),a("el-col",{attrs:{span:6}},[t._v(" 最高允许充电电流(A)： "),a("span",[t._v(t._s(t.batteryInfo.maxPermitChargeA||"-"))])]),a("el-col",{attrs:{span:6}},[t._v(" 标称总能量(kWh)： "),a("span",[t._v(t._s(t.batteryInfo.ratedEnergy||"-"))])]),a("el-col",{attrs:{span:6}},[t._v(" 最高允许充电总电压(V)： "),a("span",[t._v(t._s(t.batteryInfo.maxPermitChargeTotalV||"-"))])]),a("el-col",{attrs:{span:6}},[t._v(" 最高允许温度(℃)： "),a("span",[t._v(t._s(t.batteryInfo.maxPermitTemp||"-"))])])],1)],1)])],1),a("div",{staticClass:"vehicle-information-right"},[a("el-card",{attrs:{shadow:"never"}},[a("div",{staticClass:"comprehensive"},[a("global-chart",{attrs:{height:154,options:t.batteryHealthOption}}),t.batScore?a("div",{staticClass:"score"},[t._v(" "+t._s(t.batScore)+" "),a("span",[t._v("分")])]):t._e()],1),a("el-divider"),a("div",{staticClass:"blacklist"},[a("div",{staticClass:"blacklist-left"},[a("div",{staticClass:"blacklist-name"},[t._v(" 车型黑名单("+t._s(t.carCount)+"辆) ")]),a("div",{staticClass:"radio"},[a("div",{staticClass:"radio-click",on:{click:function(e){return t.addBlackListCarModel()}}},[a("i",{staticClass:"font-icon-color",class:t.carModelStatus?"el-icon-circle-check":"iconfont icon-weixuanzhong"}),t._v(" 加入黑名单 ")])]),a("div",{staticClass:"radio"},[a("div",{staticClass:"radio-click",on:{click:function(e){return t.deleteBlackListCarModel()}}},[a("i",{staticClass:"font-icon-color",class:t.carModelStatus?"iconfont icon-weixuanzhong":"el-icon-circle-check"}),t._v(" 移出黑名单 ")])])]),a("div",{staticClass:"blacklist-right"},[a("div",{staticClass:"blacklist-name"},[t._v(" 车辆黑名单 ")]),a("div",{staticClass:"radio"},[a("div",{staticClass:"radio-click",on:{click:function(e){return t.addBlackListCar()}}},[a("i",{staticClass:"font-icon-color",class:t.carStatus?"el-icon-circle-check":"iconfont icon-weixuanzhong"}),t._v(" 加入黑名单 ")])]),a("div",{staticClass:"radio"},[a("div",{staticClass:"radio-click",on:{click:function(e){return t.deleteBlackListCar()}}},[a("i",{staticClass:"font-icon-color",class:t.carStatus?"iconfont icon-weixuanzhong":"el-icon-circle-check"}),t._v(" 移出黑名单 ")])])])])],1)],1)]),a("el-card",{staticClass:"tabs-content",attrs:{shadow:"never"}},["chargingBehavior"===t.activeName?a("el-radio-group",{staticClass:"charging-chart-btn",attrs:{size:"mini"},model:{value:t.numberTime,callback:function(e){t.numberTime=e},expression:"numberTime"}},[a("el-radio-button",{attrs:{label:"0"}},[t._v(" 按次数 ")]),a("el-radio-button",{attrs:{label:"1"}},[t._v(" 按时间 ")])],1):t._e(),a("el-tabs",{staticClass:"tabs",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"充电行为",name:"chargingBehavior"}},["chargingBehavior"===t.activeName?a("charging-behavior",{attrs:{"number-time":t.numberTime}}):t._e()],1),a("el-tab-pane",{attrs:{label:"一致性检测",name:"consistency"}},["consistency"===t.activeName?a("consistency"):t._e()],1),a("el-tab-pane",{attrs:{label:"内短路检测",name:"shortCircuit"}},["shortCircuit"===t.activeName?a("short-circuit"):t._e()],1),a("el-tab-pane",{attrs:{label:"电池预测",name:"batteryForecast"}},["batteryForecast"===t.activeName?a("battery-forecast"):t._e()],1),a("el-tab-pane",{attrs:{label:"充电日志",name:"chargingLog"}},["chargingLog"===t.activeName?a("charging-log"):t._e()],1)],1)],1)],1)},r=[],n=a("dc45"),s=(a("e186"),a("60f4")),o=a("619b"),c=a("9df2"),l=a("5d12"),u=a("7681"),d=a("6183"),p={components:{chargingBehavior:s["default"],consistency:o["default"],shortCircuit:c["default"],batteryForecast:l["default"],chargingLog:u["default"]},data:function(){return{vehicleInfo:{},batteryInfo:{},numberTime:"0",batScore:0,activeName:"chargingBehavior",carModelStatus:0,carStatus:0,carCount:0,batteryHealthOption:{title:{textStyle:{color:"#26B5B8",fontSize:26},subtext:"电池综合评价",subtextStyle:{color:"#666666",fontSize:14},itemGap:10,left:"center",top:"48%"},tooltip:{formatter:function(t){return'<span style="color: #fff;">电池综合评价：'+t.value+"分</span>"}},angleAxis:{max:100,clockwise:!0,show:!1},radiusAxis:{type:"category",show:!0,axisLabel:{show:!1},axisLine:{show:!1},axisTick:{show:!1}},polar:{center:["50%","50%"],radius:"170%"},series:[{type:"bar",data:[27],showBackground:!0,backgroundStyle:{color:"#F0F2F5"},coordinateSystem:"polar",roundCap:!0,barWidth:15,itemStyle:{normal:{opacity:1,color:"#26B5B8"}}}]}}},created:function(){this.getCarInfoByVinId(),this.getBatInfoByVinId()},mounted:function(){},methods:{modelSelected:function(t){this.carModelStatus=t},vehicleSelected:function(t){this.catStatus=t},getCarInfoByVinId:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["getCarInfoByVinId"])({vinId:t.$route.query.vinId});case 2:a=e.sent,i=a.data,t.vehicleInfo=i||{},t.getBlackStatus();case 6:case"end":return e.stop()}}),e)})))()},getBatInfoByVinId:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["getBatInfoByVinId"])({vinId:t.$route.query.vinId});case 2:a=e.sent,i=a.data,t.batteryInfo=i||{},t.batteryHealthOption.series[0].data=[],t.batScore=t.batteryInfo.batScore,t.batteryInfo.batScore&&t.batteryHealthOption.series[0].data.push(t.batteryInfo.batScore);case 8:case"end":return e.stop()}}),e)})))()},getBlackStatus:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["getBlackStatus"])({vinId:t.$route.query.vinId,modelCode:t.vehicleInfo.modelCode});case 2:a=e.sent,i=a.data,t.carModelStatus=i.carModelStatus,t.carStatus=i.carStatus,t.carCount=i.carCount;case 7:case"end":return e.stop()}}),e)})))()},addBlackListCar:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.carStatus){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(d["addBlackListCar"])({vinId:t.$route.query.vinId});case 4:a=e.sent,a.data,t.getBlackStatus();case 7:case"end":return e.stop()}}),e)})))()},addBlackListCarModel:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.carModelStatus){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(d["addBlackListCarModel"])({vinId:t.$route.query.vinId,modelCode:t.vehicleInfo.modelCode});case 4:a=e.sent,a.data,t.getBlackStatus();case 7:case"end":return e.stop()}}),e)})))()},deleteBlackListCar:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["deleteBlackListCar"])({vinId:t.$route.query.vinId});case 2:a=e.sent,a.data,t.getBlackStatus();case 5:case"end":return e.stop()}}),e)})))()},deleteBlackListCarModel:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["deleteBlackListCarModel"])({vinId:t.$route.query.vinId,modelCode:t.vehicleInfo.modelCode});case 2:a=e.sent,a.data,t.getBlackStatus();case 5:case"end":return e.stop()}}),e)})))()}}},h=p,g=(a("580c"),a("cba8")),v=Object(g["a"])(h,i,r,!1,null,"71903586",null);e["default"]=v.exports},7681:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{attrs:{data:t.tableList,border:"",stripe:"","show-overflow-tooltip":""}},[a("el-table-column",{attrs:{align:"center","header-align":"center",type:"index",index:t.indexFormat,label:"序号",width:"55"}}),t._l(t.columns,(function(t,e){return a("el-table-column",{key:e,attrs:{prop:t.prop,align:"center","header-align":"center",label:t.label,width:t.width,"show-overflow-tooltip":""}})})),a("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right",width:"100","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.toReport(i)}}},[t._v(" 充电报告 ")])]}}])})],2),a("el-pagination",{attrs:{"current-page":t.pageNo,"page-sizes":t.pageSizes,background:"","page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.pageSizeChangeHandle,"current-change":t.pageCurrentChangeHandle}})],1)},r=[],n=a("e760"),s=a("6183"),o={mixins:[n["default"]],data:function(){return{columns:[{label:"充电开始时间",prop:"startTime",width:160},{label:"充电结束时间",prop:"endTime",width:160},{label:"订单编号",prop:"orderNo",width:180},{label:"省份",prop:"province"},{label:"地区",prop:"city"},{label:"场站",prop:"stationName",width:200},{label:"充电枪序号",prop:"connectorName"},{label:"订单报警等级",prop:"level"}]}},created:function(){this.obtainTableData=s["findChargeLogs"],this.searchTabularData({vinId:this.$route.query.vinId})},mounted:function(){},methods:{toReport:function(t){window.sessionStorage.setItem("orderInfo",JSON.stringify(t)),this.$router.push({name:"report",query:{orderNo:t.orderNo,equipmentId:t.equipmentId,vin:t.vin,dataList:JSON.stringify(t)}})}}},c=o,l=a("cba8"),u=Object(l["a"])(c,i,r,!1,null,"592ca4d6",null);e["default"]=u.exports},"937b":function(t,e,a){},"9df2":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("global-chart",{attrs:{height:350,options:t.chart}})],1)},r=[],n=a("dc45"),s=a("357a"),o=(a("e186"),a("43a0")),c=a.n(o),l=a("6183"),u={data:function(){var t,e,a;return{chart:{title:{text:"",subtext:"充电次数",bottom:0,right:20},color:["#5470C6","#91CC75","#EE6666"],tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:Object(s["a"])({right:10,top:0},"right",20),grid:{left:180,right:20,bottom:50,top:30},dataZoom:[{type:"inside"}],xAxis:[(t={type:"category",axisTick:{alignWithLabel:!0},data:[]},Object(s["a"])(t,"axisTick",!1),Object(s["a"])(t,"axisLabel",{textStyle:{color:"#999"}}),Object(s["a"])(t,"axisLine",{show:!0,lineStyle:{color:"#999"}}),Object(s["a"])(t,"splitLine",{show:!1}),Object(s["a"])(t,"nameTextStyle",{color:"#999"}),t)],yAxis:[(e={type:"value",name:"内短路概率（%）",position:"left",axisLine:{show:!0},axisLabel:{formatter:"{value} %"},axisTick:!1},Object(s["a"])(e,"axisLabel",{textStyle:{color:"#999"}}),Object(s["a"])(e,"axisLine",{show:!0,lineStyle:{color:"#999"}}),Object(s["a"])(e,"splitLine",{show:!1}),Object(s["a"])(e,"nameTextStyle",{color:"#999"}),e),(a={type:"value",name:"短路电流值（mA）",position:"left",offset:100,axisLine:{show:!0},axisLabel:{formatter:"{value} mA"},axisTick:!1},Object(s["a"])(a,"axisLabel",{textStyle:{color:"#999"}}),Object(s["a"])(a,"axisLine",{show:!0,lineStyle:{color:"#999"}}),Object(s["a"])(a,"splitLine",{show:!1}),Object(s["a"])(a,"nameTextStyle",{color:"#999"}),a)],series:[{smooth:!0,name:"内短路概率(%)",type:"line",connectNulls:!0,data:[],itemStyle:{normal:{color:"red",lineStyle:{color:"red",width:1}}}},{name:"短路电流值(mA)",connectNulls:!0,type:"line",smooth:!0,yAxisIndex:1,data:[],itemStyle:{normal:{color:"#18CED8",lineStyle:{color:"#18CED8",width:1},areaStyle:{color:new c.a.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#fff"},{offset:1,color:"#18CED8"}])}}}}]}}},created:function(){this.findShortCircuitStatistics()},mounted:function(){},methods:{findShortCircuitStatistics:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["findShortCircuitStatistics"])({vinId:t.$route.query.vinId});case 2:a=e.sent,i=a.data,t.chart.xAxis[0].data=i.countList,t.chart.series[0].data=i.rccRateList,t.chart.series[1].data=i.currentList;case 7:case"end":return e.stop()}}),e)})))()}}},d=u,p=a("cba8"),h=Object(p["a"])(d,i,r,!1,null,"82e1d722",null);e["default"]=h.exports},b95d:function(t,e,a){},e760:function(t,e,a){"use strict";a.r(e);var i=a("7e2d"),r=a("dc45"),n=(a("e186"),a("ed08"));e["default"]={data:function(){return{obtainTableData:"",carBrands:[],carSeries:[],carTypes:[],total:0,pageNo:1,pageSize:10,dataList:[],searchCriteria:{},tableLoading:!1,tableList:[],pageSizes:[10,20,50,100]}},created:function(){},mounted:function(){},methods:{indexFormat:function(t){return Object(n["indexFormat"])(t,this)},searchTabularData:function(t){this.pageNo=1,this.searchCriteria=t,this.getObtainTableData()},deleteTableData:function(t){},getObtainTableData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tableLoading=!0,e.next=3,t.obtainTableData(Object(i["a"])({pageNo:t.pageNo,pageSize:t.pageSize},t.searchCriteria));case 3:a=e.sent,r=a.data,n=a.code,200===n&&(t.tableList=r.rows||[],t.total=r.total),t.tableLoading=!1;case 8:case"end":return e.stop()}}),e)})))()},pageSizeChangeHandle:function(t){this.pageNo=1,this.pageSize=t,this.getObtainTableData()},pageCurrentChangeHandle:function(t){this.pageNo=t,this.getObtainTableData()},resetForm:function(t){this.$data[t]=Object(n["clearObj"])(this.$data[t]),this.searchTabularData({})}},computed:{}}}}]);